@model List<StephenCoreMed.Models.ViewModels.CompanyVM>
<style>
    #company_manag_sidebar {
        display: block !important;
    }
</style>
@{
    ViewBag.Title = "CompanyList";
}

<h2 class="rounded " style="background-color:#343a40;color:white"><center>Company List</center></h2>
<table id="CompanyTable" class="table table-striped table-bordered" style="width:100%">

    <thead>
        <tr>
            <th style="display:none">ID</th>
            <th>Company Name</th>
            <th>Email</th>
            <th>Phone Number</th>
            <th>Address</th>
            <th>Description</th>
            <th>Edit</th>

        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
        <tr>
            <td style="display:none">
                @Html.HiddenFor(m => item.C_Id)
            </td>
            <td>
                @*@Html.DisplayFor(m => item.C_Name, new { id = "search-customer" })*@
                @*<span>@item.C_Name</span>*@
            @Html.ActionLink(item.C_Name, "searchCompanyEmployees", null, new { id = item.C_Id },null)
            </td>
            <td>
                @Html.DisplayFor(m => item.C_Email)
            </td>
            <td>@Html.DisplayFor(m => item.C_PhoneNumber)</td>
            <td>@Html.DisplayFor(m => item.C_Address)</td>
            <td>@Html.DisplayFor(m => item.C_Description)</td>
            <td>@Html.ActionLink(" ", "EditCompany", "Company", new { id = item.C_Id, }, new { @class = "btn btn-primary fa fa-pencil-square-o", title = "Click to Edit " + item.C_Id + " information" })</td>

        </tr>
        }
    </tbody>

</table>
<script src="~/AdminLTEFiles/plugins/jquery/jquery.js"></script>
<script src="~/AdminLTEFiles/plugins/datatables/jquery.dataTables.js"></script>
<script src="~/AdminLTEFiles/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js"></script>
<script>
    $(document).ready(function () {
        $('#CompanyTable').DataTable({
            "columns": [
                null,
                { "width": "15%" },
                { "width": "15%" },
                { "width": "10%" },
                { "width": "30%" },
                null,
                null
            ],
            "columnDefs": [
                { "searchable": false, "targets": 0 },
                { "searchable": false, "targets": 2 },
                { "searchable": false, "targets": 3 },
                { "searchable": false, "targets": 4 },
                { "searchable": false, "targets": 5 },
                { "searchable": false, "targets": 6 },
            ]
        })
        
        
    });
</script>